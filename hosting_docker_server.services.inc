<?php
/**
 * @file
 * Hosting service classes for the Hosting web server module.osting service classes for the Hosting web server module.
 */

module_load_include('service.inc', 'hosting_web_server');
module_load_include('service.inc', 'hosting_db_server');

class hostingService_http_apache_docker extends hostingService_http_apache {
  public $type = 'apache_docker';
  public $name = 'Apache Docker Container';
  
  // It does but we don't let the user edit it.
  public $has_restart_cmd = FALSE;
  
  function default_port()
  {
    return 0;
  }

  function form(&$form)
  {
    parent::form($form); // TODO: Change the autogenerated stub
    $form['port']['#description'] = t('The port to assign to apache on the web container. Set to "0" to let docker assign a random available port. (Recommended)');
  }
  
  function validate(&$node, &$form, &$form_state)
  {
    // Don't run parent, we allow empty port.
    // parent::validate($node, $form, $form_state); // TODO: Change the autogenerated stub
  }
  
}
class hostingService_db_mysql_docker extends hostingService_db_mysql {
  public $type = 'mysql_docker';
  public $name = 'MySQL Docker Container';
  public $has_restart_cmd = FALSE;
  
  function validate(&$node, &$form, &$form_state)
  {
    // Don't run parent, we allow empty port.
    // parent::validate($node, $form, $form_state); // TODO: Change the autogenerated stub
  }
}
